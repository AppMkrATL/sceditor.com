(function(a){"use strict",a.sceditor.plugins.table=function(){var b=this,c,d,e,f,g,h,i;b.signalContextmenuEvent=function(b,f){var g=a(f.currentNode()),h=g.parents("table:first");if(!h.length)return;e(a(this.currentNode()),!0);var i={css:{},items:[{name:"Insert Header",exec:function(){c(a(this.currentNode()))},enabled:!0,menu:[]},{name:"Delete Header",exec:function(){d(a(this.currentNode()))}},{},{name:"Insert Row Before",exec:function(){e(a(this.currentNode()),!0)}},{name:"Insert Row After",exec:function(){e(a(this.currentNode()),!1)}}]};return b.stopImmediatePropagation(),b.preventDefault(),!1},c=function(b){var c=a("<tr></tr>"),d=b.parents("tr:first"),e=d.children("td").length;if(!e)return;while(e--)c.append(a("<th></th>"));d.before(c)},d=function(a){var b=a.parents("table:first"),c=b.children("tr:first");if(!b.length||c.children("th").length)return;c.remove()},e=function(b,c){var d=a("<tr></tr>"),e=b.parents("tr:first"),f=e.children("td").length;if(!f)return;while(f--)d.append(a("<td></td>"));c?e.before(d):e.after(d)},f=function(a){a.parents("tr:first").remove()},g=function(b,c){var d,e,f=b.parents("tr:first"),g=f.parents("table:first"),h=f.prevAll("td").length;if(!g.length)return;g.children("tr").each(function(b,f){e=f.children("td").eq(h),d=a("<td></td>"),c?e.before(d):e.after(d)})},h=function(a){var b=a.parents("tr:first"),c=b.parents("table:first"),d=b.prevAll("td").length;if(!c.length)return;c.children("tr").each(function(a,b){b.children("td").eq(d).remove()})},i=function(a){a.parents("table:first").remove()}}})(jQuery);